<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>FOTOS INSTANT√ÅNEAS @clickandpose.ecu</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f5f5dc;
      color: #4b2e2e;
      margin: 0;
    }

    h1 { margin: 16px 0; text-align: center; }

    .main-container {
      display: flex;
      justify-content: center;
      align-items: flex-start;
      gap: 20px;
      margin: 20px;
    }

    .frame {
      width: 400px;
      aspect-ratio: 2/3;
      border: 4px solid #4b2e2e;
      border-radius: 12px;
      background: #fff;
      position: relative;
      overflow: hidden;
    }

    #preview, #resultCanvas {
      width: 100%;
      height: 100%;
      object-fit: cover;
      position: absolute;
      top: 0; left: 0;
    }

    #preview { transform: scaleX(-1); }
    #resultCanvas {
      display: none;
      border-radius: 0; /* ‚úÖ Bordes rectos */
    }

    #layoutSelector {
      display: flex;
      flex-direction: column;
      gap: 12px;
      align-items: flex-start;
    }
    .layout-option { text-align: left; cursor: pointer; }
    .thumb {
      width: 60px; height: 90px;
      display: flex; align-items: center; justify-content: center;
      font-size: 20px; font-weight: bold;
      color: black;
      border: 3px solid #4b2e2e;
      border-radius: 8px;
    }

    .green  { background-color: #4CAF50; }
    .blue   { background-color: #2196F3; }
    .yellow { background-color: #FFEB3B; }
    .purple { background-color: #9C27B0; }
    .brown  { background-color: #795548; }

    .controls {
      display: flex;
      flex-direction: column;
      gap: 12px;
      align-items: flex-end;
    }
    button {
      padding: 12px 20px;
      border: 2px solid #4b2e2e;
      background: #e6d8ad;
      color: #4b2e2e;
      border-radius: 8px;
      cursor: pointer;
      font-size: 16px;
      width: 160px;
    }
    button:hover { background: #d9cba3; }

    #overlay {
      position: absolute;
      top:0; left:0;
      width:100%; height:100%;
      background:black;
      opacity:0;
      transition: opacity 0.5s ease;
      pointer-events:none;
      z-index:999;
    }
    #overlay.show { opacity:1; }

    @media (max-width: 768px) {
      .main-container {
        flex-direction: column;
        align-items: center;
      }
      .controls, #layoutSelector {
        align-items: center;
      }
      .controls button {
        width: 100%;
      }
    }

    /* üéØ Estilos exclusivos para impresi√≥n */
    @media print {
      h1, #layoutSelector, .controls, #preview, #overlay, .repeat-btn {
        display: none !important;
      }

      #resultCanvas {
        display: block !important;
        position: fixed !important;
        inset: 0 !important; /* ocupa toda la p√°gina */
        width: 100% !important;
        height: 100% !important;
        margin: 0 !important;
        border: none !important;
        box-shadow: none !important;
        border-radius: 0 !important;
        visibility: visible !important;
        page-break-after: avoid !important;
        page-break-before: avoid !important;
        page-break-inside: avoid !important;
      }

      @page {
        size: 4in 6in;
        margin: 0;
      }

      html, body {
        margin: 0 !important;
        padding: 0 !important;
        height: 100% !important;
        overflow: hidden !important;
      }
    }
  </style>
</head>
<body>
  <h1>FOTOS INSTANT√ÅNEAS<br>@clickandpose.ecu</h1>

  <div class="main-container">
    <div id="layoutSelector">
      <div class="layout-option" data-layout="1"><div class="thumb green">1</div><p></p></div>
      <div class="layout-option" data-layout="2"><div class="thumb blue">2</div><p></p></div>
      <div class="layout-option" data-layout="3"><div class="thumb yellow">3</div><p></p></div>
      <div class="layout-option" data-layout="4"><div class="thumb purple">4</div><p></p></div>
      <div class="layout-option" data-layout="8"><div class="thumb brown">8</div><p></p></div>
    </div>

    <div class="frame">
      <video id="preview" autoplay playsinline></video>
      <canvas id="resultCanvas" width="1200" height="1800"></canvas>
      <div id="overlay"></div>
    </div>

    <div class="controls">
      <button id="startBtn">Tomar foto</button>
      <button id="printBtn">Imprimir</button>
      <button id="downloadBtn">Descargar JPG</button>
      <button id="resetBtn">Reiniciar</button>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
